# 个人理财管理系统需求说明

## 1. 项目概述

本系统旨在帮助用户管理个人资产负债，追踪财务状况，分析资产趋势，并提供智能化的理财建议。

## 2. 核心功能需求

### 2.1 资产负债表管理

#### 2.1.1 资产管理

**资产类别：**
- 现金（Cash）
  - 银行存款
  - 手头现金
  - 货币基金
- 股票（Stocks）
  - 国内股票
  - 海外股票
  - 基金
- 退休基金（Retirement Funds）
  - 401k
  - IRA
  - 养老保险
- 保险（Insurance）
  - 人寿保险现金价值
  - 年金保险
- 房产（Real Estate）
  - 自住房产
  - 投资房产
- 数字货币（Cryptocurrency）
  - 比特币
  - 以太坊
  - 其他数字货币
- 贵金属（Precious Metals）
  - 黄金
  - 白银
  - 其他贵金属

**税收状态分类：**
- 应税（TAXABLE）：需要缴纳资本利得税的资产
- 免税（TAX_FREE）：免税账户中的资产
- 延税（TAX_DEFERRED）：延迟缴税的资产（如401k、IRA等）

**功能要求：**
- 每种资产类别可以包含多个账号
- 支持录入某个时间点的资产数值
- 支持手动添加、编辑、删除资产账号
- 支持为每个账号设置别名和备注
- 支持设置资产账号的税收状态
- 支持批量更新资产数据

#### 2.1.2 负债管理

**负债类别：**
- 房贷（Mortgage）
- 车贷（Auto Loan）
- 信用卡负债（Credit Card Debt）
- 个人借债（Personal Loan）
- 学生贷款（Student Loan）
- 其他负债（Other Debt）

**功能要求：**
- 每种负债类别可以包含多个账号
- 支持录入某个时间点的负债数值
- 支持记录利率、还款期限等信息
- 支持手动添加、编辑、删除负债账号
- 支持批量更新负债数据
- 负债在税收分析中默认作为免税处理

### 2.2 数据录入

**功能要求：**
- 支持按时间点录入资产/负债数值
- 支持批量导入历史数据
- 支持设置定期提醒录入数据
- 数据录入支持多种货币（自动汇率转换）
- 支持拍照上传账单凭证

### 2.3 数据分析与可视化

#### 2.3.1 趋势分析

- **单项资产趋势**
  - 折线图展示某种资产的时间趋势
  - 显示增长率、波动率
  - 计算盈亏金额和百分比

- **总资产趋势**
  - 总资产随时间的变化趋势
  - 净资产（总资产-总负债）趋势
  - 资产增长速度分析

#### 2.3.2 资产配置分析

- **资产占比**
  - 饼图展示各类资产的占比
  - 支持按大类或细分类别查看
  - 对比理想资产配置比例

- **负债占比**
  - 饼图展示各类负债的占比
  - 负债率（总负债/总资产）计算
  - 高风险负债预警

- **净资产分析**
  - 净资产分类饼图（资产-对应负债）
  - 税收状态分析（应税/免税/延税）
  - 负债优先抵扣应税资产，再抵扣免税和延税资产
  - 支持按指定日期查看历史数据
  - 支持多货币显示（USD/CNY）

#### 2.3.3 财务指标

- 总资产（Total Assets）
- 总负债（Total Liabilities）
- 净资产（Net Worth = 总资产 - 总负债）
- 资产负债率（Debt-to-Asset Ratio）
- 流动性比率（现金及现金等价物占比）
- 投资回报率（ROI）
- 月度/年度资产变化

### 2.4 智能分析与推荐

#### 2.4.1 风险评估

- 资产集中度风险分析
- 负债压力评估
- 流动性风险预警
- 市场风险提示（针对股票、数字货币等）

#### 2.4.2 优化建议

- 资产配置优化建议
  - 根据年龄、风险偏好给出建议
  - 多元化投资建议
- 负债管理建议
  - 高息负债优先偿还提醒
  - 债务整合建议
- 储蓄目标设定与追踪
- 退休规划建议

#### 2.4.3 目标管理

- 设置财务目标（如：买房首付、退休金目标等）
- 追踪目标完成进度
- 预测目标达成时间
- 提供实现目标的行动建议

### 2.5 报表与导出

- 月度/季度/年度财务报表
- 资产负债表导出（PDF/Excel）
- 数据备份与恢复
- 多维度自定义报表

## 3. 技术架构

### 3.1 后端
- **框架：** Java Spring Boot
- **数据库：** MySQL
- **API：** RESTful API

### 3.2 前端
- **框架：** Vue.js 3
- **UI库：** Element Plus
- **图表：** ECharts / Chart.js

### 3.3 数据库设计要点

**核心表结构：**
- 用户表（users）
- 资产类别表（asset_categories）
- 资产账号表（asset_accounts）
- 资产记录表（asset_records）- 时间序列数据
- 负债类别表（liability_categories）
- 负债账号表（liability_accounts）
- 负债记录表（liability_records）- 时间序列数据
- 财务目标表（financial_goals）

## 4. 用户体验要求

- 界面简洁直观，操作流程简单
- 支持移动端响应式设计
- 数据可视化清晰美观
- 支持暗色模式
- 数据安全加密存储

## 5. 未来扩展功能

- 多用户支持（家庭账本）
- 自动同步银行账户数据
- AI智能理财顾问
- 社交分享（匿名）
- 理财知识库
- 税务规划工具
